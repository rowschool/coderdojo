<script>
    function getQuery(key) {
        var query = window.location.search.substring(1);
        var key_values = query.split('&');
        var params = {};
        key_values.map(function (key_val) {
            var key_val_arr = key_val.split('=');
            params[key_val_arr[0]] = key_val_arr[1];
        });
        if (typeof params[key] != 'undefined') {
            return params[key];
        }
        return '';
    }

    window.onload = function () {
        let src = getQuery('src');

        if (!src.length) {
            src = 'https://raw.githubusercontent.com/rowschool/coderdojo-lessons/main/README.md';
        }
        
        const md = document.createElement('zero-md');
        md.setAttribute('src', src);
        md.setAttribute('no-shadow', '');
        document.getElementById('mdcontainer').append(md);

        if (!window.location.search.length) {
            const oldHref = window.location.href;
            const newHref = `${oldHref}?src=${src}`;
            window.location.href = newHref;
        }
    }

    // DOM-ready GitHub Markdown workarounds. See comments below for more details.
    document.addEventListener('DOMContentLoaded', function() {
        window.setTimeout(() => {
            const shadowDOMRoot = document.querySelector('#mdcontainer zero-md').shadowRoot;

            // Update all `README.md` ToC links to redirect to the CoderDojo website,
            // appending `basePath` and the link to the `.md` doc containing the lesson.
            shadowDOMRoot.querySelectorAll('a').forEach(function(link) {
                if (window.location.pathname.includes('lesson-plan') && 
                    window.location.search.includes('README.md') &&
                    link.href.includes('https://raw.githubusercontent.com/rowschool/coderdojo-lessons/main/')) {

                    const urlObj = new URL(window.location.href);
                    urlObj.search = '';
                    const basePath = urlObj.toString();
                    const newHref = `${basePath}?src=${link.href}`;
                    link.href = newHref;
                }
            });

            // Update all lesson `img` tags to render correctly because we're rendering relative URLs in the docs.
            shadowDOMRoot.querySelectorAll('img').forEach(function(image) {
                const oldOrigin = `${window.location.origin}/`;
                const newOrigin = 'https://raw.githubusercontent.com/rowschool/coderdojo-lessons/main/';
                console.log('image.src', image.src);
                const newSource = image.src.replace(oldOrigin, newOrigin);
                console.log('oldOrigin', oldOrigin, 'newOrigin', newOrigin, 'newSource', newSource);
                image.src = newSource;
            });
        }, 1000);
    });
</script>


<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" prefix="og: http://ogp.me/ns#">
  <head>
    <title>
      CoderDojo Denver - A Colorado Kids Coding Club
    </title>

    <meta name="viewport" content="width=device-width, user-scalable=no">

    <meta property="og:type" content="website" />
    <meta property="og:image" content="src/static/images/favicon.png" />
    <meta property="og:image:width" content="200" />
    <meta property="og:image:height" content="200" />
    <meta property="og:title" content="CoderDojo Denver" />

    <link rel="shortcut icon" type="image/x-icon" href="src/static/images/favicon.png">
    <link type="text/css" href="styles/main.css" rel="stylesheet">

    <script src="scripts/main.js"></script>
  </head>

  <body>
    <div class="hero-container hidden-phone">
      <a class="has-img" href="/">
        <img class="hero-container-image" src="src/static/images/logo.svg">
        <h1 class="hero-container-text">Denver</h1>
      </a>
    </div>
    
    <div class="menu-container hidden-phone">
      <ul class="menu-item-list">
        <li class="menu-item-list-item">
          <a class="menu-item-list-item-link" href="index.html">
            Home
          </a>
        </li>
    
        <li class="menu-item-list-dropdown">
          <a class="menu-item-list-item-link" href="#">
            Curriculum
            <i class="ii ii-chevron-down"></i>
          </a>
          <ul class="menu-item-list-dropdown-list">
            <a class="menu-item-list-item-link" href="lesson-plan.html">
              <li class="menu-item-list-dropdown-list-item">
                Lesson Plan
              </li>
            </a>
            <a class="menu-item-list-item-link" href="curriculum-options.html">
              <li class="menu-item-list-dropdown-list-item">
                Options
              </li>
            </a>
            <a class="menu-item-list-item-link" href="mastery.html">
              <li class="menu-item-list-dropdown-list-item">
                Mastery
              </li>
            </a>
          </ul>
        </li>
    
        <li class="menu-item-list-item">
          <a class="menu-item-list-item-link" href="today.html">
            Today
          </a>
        </li>
    
        <li class="menu-item-list-dropdown">
          <a class="menu-item-list-item-link" href="#">
            Volunteers
            <i class="ii ii-chevron-down"></i>
          </a>
          <ul class="menu-item-list-dropdown-list">
            <a class="menu-item-list-item-link" href="mentors.html">
              <li class="menu-item-list-dropdown-list-item">
                Mentors
              </li>
            </a>
            <a class="menu-item-list-item-link" href="become-a-mentor.html">
              <li class="menu-item-list-dropdown-list-item">
                Become a mentor
              </li>
            </a>
            <a class="menu-item-list-item-link" href="become-a-mentor.html#faq">
              <li class="menu-item-list-dropdown-list-item">
                FAQ
              </li>
            </a>
          </ul>
        </li>
    
        <li class="menu-item-list-dropdown">
          <a class="menu-item-list-item-link" href="#">
            Community
            <i class="ii ii-chevron-down"></i>
          </a>
          <ul class="menu-item-list-dropdown-list">
            <a class="menu-item-list-item-link" href="community.html#sponsors">
              <li class="menu-item-list-dropdown-list-item">
                Sponsors
              </li>
            </a>
            <a class="menu-item-list-item-link" href="community.html#partners">
              <li class="menu-item-list-dropdown-list-item">
                Partners
              </li>
            </a>
          </ul>
        </li>
    
        <li class="menu-item-list-dropdown">
          <a class="menu-item-list-item-link" href="#">
            About
            <i class="ii ii-chevron-down"></i>
          </a>
          <ul class="menu-item-list-dropdown-list">
            <a class="menu-item-list-item-link" href="about.html#locations">
              <li class="menu-item-list-dropdown-list-item">
                Locations
              </li>
            </a>
            <a class="menu-item-list-item-link" href="about.html#contact">
              <li class="menu-item-list-dropdown-list-item">
                Contact Us
              </li>
            </a>
            <a class="menu-item-list-item-link" href="code-of-conduct.html">
              <li class="menu-item-list-dropdown-list-item">
                Code of Conduct
              </li>
            </a>
            <a class="menu-item-list-item-link" href="questions.html">
              <li class="menu-item-list-dropdown-list-item">
                FAQ
              </li>
            </a>
            <a class="menu-item-list-item-link" href="questions.html#privacy">
              <li class="menu-item-list-dropdown-list-item">
                Privacy Policy
              </li>
            </a>
            <a class="menu-item-list-item-link" href="scholarships.html">
              <li class="menu-item-list-dropdown-list-item">
                Scholarships
              </li>
            </a>
          </ul>
        </li>
      </ul>
    </div>
    <div class="mobile-menu-container visible-phone">
      <div class="mobile-menu-hero-container">
        <a class="mobile-menu-hero has-img" href="/">
          <img class="mobile-menu-hero-image" src="src/static/images/logo.svg">
          <span class="mobile-menu-hero-text">Denver</span>
        </a>
    
        <div class="mobile-menu-dropdown-container">
          <i id="mobile-dropdown-menu-close-button" class="ii ii-close hidden"></i>
          <i id="mobile-dropdown-menu-open-button" class="ii ii-menu"></i>
        </div>
      </div>
    
      <div id="mobile-menu-dropdown" class="mobile-menu-dropdown hidden">
        <div class="mobile-menu-dropdown-group">
          <div class="mobile-menu-dropdown-group-item">
            <a class="mobile-menu-dropdown-group-item" href="#">
              Curriculum
            </a>
            <a class="mobile-menu-dropdown-group-item" href="lesson-plan.html">
              Lesson Plan
            </a>
            <a class="mobile-menu-dropdown-group-item" href="curriculum-options.html">
              Options
            </a>
            <a class="mobile-menu-dropdown-group-item" href="mastery.html">
              Mastery
            </a>
          </div>
        </div>
    
        <div class="mobile-menu-dropdown-group">
          <a class="mobile-menu-dropdown-group-item" href="today.html">
            Today
          </a>
        </div>
    
        <div class="mobile-menu-dropdown-group">
          <a class="mobile-menu-dropdown-group-item" href="#">
            Volunteers
          </a>
          <a class="mobile-menu-dropdown-group-item" href="mentors.html">
              Mentors
          </a>
          <a class="mobile-menu-dropdown-group-item" href="become-a-mentor.html">
            Become a mentor
          </a>
          <a class="mobile-menu-dropdown-group-item" href="become-a-mentor.html#faq">
            FAQ
          </a>
        </div>
    
        <div class="mobile-menu-dropdown-group">
          <a class="mobile-menu-dropdown-group-item" href="#">
            Community
          </a>
          <a class="mobile-menu-dropdown-group-item" href="community.html#sponsors">
            Sponsors
          </a>
          <a class="mobile-menu-dropdown-group-item" href="community.html#partners">
            Partners
          </a>
        </div>
    
        <div class="mobile-menu-dropdown-group">
          <a class="mobile-menu-dropdown-group-item" href="#">
            About
          </a>
          <a class="mobile-menu-dropdown-group-item" href="about.html#locations">
            Locations
          </a>
          <a class="mobile-menu-dropdown-group-item" href="about.html#contact">
            Contact Us
          </a>
          <a class="mobile-menu-dropdown-group-item" href="code-of-conduct.html">
            Code of Conduct
          </a>
          <a class="mobile-menu-dropdown-group-item" href="questions.html">
            FAQ
          </a>
          <a class="mobile-menu-dropdown-group-item" href="questions.html#privacy">
            Privacy Policy
          </a>
          <a class="mobile-menu-dropdown-group-item" href="scholarships.html">
            Scholarships
          </a>
        </div>
      </div>
    </div>

    <div class="content-container">
        <head>
            <script type="module" src="https://cdn.jsdelivr.net/gh/zerodevx/zero-md@2/dist/zero-md.min.js"></script>
        </head>
      
        <div id="mdcontainer"></div>
    </div>
  </body>
</html>
